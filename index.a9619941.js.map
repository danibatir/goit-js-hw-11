{"mappings":"AAAA,IAAMA,KAAOC,SAASC,eAAe,eAC/BC,QAAUF,SAASG,cAAc,YACjCC,YAAcJ,SAASG,cAAc,cACvCE,KAAO,EACPC,MAAQ,GAENC,QAAU,qCACVC,QAAU,GAkBhB,SAASC,cACPC,MACE,gCAA6CC,OAAbJ,QAAQ,OAE0BI,OAFrBC,mBAC3CN,OACA,kEAAiFK,OAAjBN,KAAK,cAAoBM,OAARH,UAElFK,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACmB,IAAnBA,EAAKC,WACPC,SAASC,OAAOC,QACd,4EAEFhB,YAAYiB,UAAUC,OAAO,UAE7BC,cAAcP,EAAKQ,MACN,IAATnB,MACFa,SAASC,OAAOM,QAAQ,oBAAmCd,OAAfK,EAAKC,UAAU,aAEzDD,EAAKQ,KAAKE,OAASlB,SACrBJ,YAAYiB,UAAUC,OAAO,QACzBjB,KAAO,GACTa,SAASC,OAAOQ,KACd,+DAIJvB,YAAYiB,UAAUO,IAAI,Q,IAI/BC,OAAM,SAAAC,GACLC,QAAQD,MAAM,yBAA0BA,GACxCZ,SAASC,OAAOC,QAAQ,gD,IAI9B,SAASG,cAAcS,GACrB,IAAMC,EAASD,EACZE,KACC,SAAAC,G,MAAS,kBAEGxB,OADHwB,EAAMC,cAAc,2CACWzB,OAA5BwB,EAAME,aAAa,WAGZ1B,OAHqBwB,EAAMG,KAAK,yGAMhC3B,OAHAwB,EAAMI,MAAM,0EAMT5B,OAHHwB,EAAMK,MAAM,6EAMR7B,OAHDwB,EAAMM,SAAS,8EAGE9B,OAAhBwB,EAAMO,UAAU,6C,IAMxCC,KAAK,IACRzC,QAAQ0C,mBAAmB,YAAaX,GACxCY,kBACAzC,YAAYiB,UAAUO,IAAI,O,CAG5B,SAASiB,kBACU,IAAIC,eAAe,aAAc,C,GAGzCC,S,CArFXhD,KAAKiD,iBAAiB,UAAU,SAAAC,GAC9BA,EAAMC,kBACN5C,MAAQ2C,EAAME,OAAOC,YAAYC,MAAMC,UAErCjD,KAAO,EACPH,QAAQqD,UAAY,GACpBnD,YAAYiB,UAAUC,OAAO,QAC7Bb,c,IAIJL,YAAY4C,iBAAiB,SAAS,WACpC3C,OACAI,a","sources":["src/index.js"],"sourcesContent":["const form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nlet page = 1;\nlet query = '';\n\nconst API_KEY = '44190966-0aa6bbea47325323a5628291c';\nconst perPage = 40;\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  query = event.target.searchQuery.value.trim();\n  if (query) {\n    page = 1;\n    gallery.innerHTML = '';\n    loadMoreBtn.classList.remove('show');\n    fetchImages();\n  }\n});\n\nloadMoreBtn.addEventListener('click', () => {\n  page++;\n  fetchImages();\n});\n\nfunction fetchImages() {\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n      query\n    )}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`\n  )\n    .then(response => response.json())\n    .then(data => {\n      if (data.totalHits === 0) {\n        Notiflix.Notify.failure(\n          'Sorry, there are no images matching your search query. Please try again.'\n        );\n        loadMoreBtn.classList.remove('show');\n      } else {\n        displayImages(data.hits);\n        if (page === 1) {\n          Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`);\n        }\n        if (data.hits.length < perPage) {\n          loadMoreBtn.classList.remove('show');\n          if (page > 1) {\n            Notiflix.Notify.info(\n              \"We're sorry, but you've reached the end of search results.\"\n            );\n          }\n        } else {\n          loadMoreBtn.classList.add('show');\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      Notiflix.Notify.failure('Something went wrong. Please try again later.');\n    });\n}\n\nfunction displayImages(images) {\n  const markup = images\n    .map(\n      image => `\n    <a href=\"${image.largeImageURL}\" class=\"photo-card\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b> ${image.likes}\n        </p>\n        <p class=\"info-item\">\n          <b>Views</b> ${image.views}\n        </p>\n        <p class=\"info-item\">\n          <b>Comments</b> ${image.comments}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b> ${image.downloads}\n        </p>\n      </div>\n    </a>\n  `\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  refreshLightbox();\n  loadMoreBtn.classList.add('show');\n}\n\nfunction refreshLightbox() {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    /* options */\n  });\n  lightbox.refresh();\n}\n"],"names":["form","document","getElementById","gallery","querySelector","loadMoreBtn","page","query","API_KEY","perPage","fetchImages","fetch","concat","encodeURIComponent","then","response","json","data","totalHits","Notiflix","Notify","failure","classList","remove","displayImages","hits","success","length","info","add","catch","error","console","images","markup","map","image","largeImageURL","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","refreshLightbox","SimpleLightbox","refresh","addEventListener","event","preventDefault","target","searchQuery","value","trim","innerHTML"],"version":3,"file":"index.a9619941.js.map"}